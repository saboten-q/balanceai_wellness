# BalanceAI Wellness 要件定義書

**文書バージョン**: 1.0  
**作成日**: 2025年12月4日  
**最終更新**: 2025年12月4日  
**プロジェクトオーナー**: saboten-q

---

## 目次

1. [プロジェクト概要](#1-プロジェクト概要)
2. [プロジェクトの背景と目的](#2-プロジェクトの背景と目的)
3. [ターゲットユーザー](#3-ターゲットユーザー)
4. [ビジネス要件](#4-ビジネス要件)
5. [機能要件](#5-機能要件)
6. [非機能要件](#6-非機能要件)
7. [システム構成](#7-システム構成)
8. [外部連携](#8-外部連携)
9. [制約事項](#9-制約事項)
10. [リリース計画](#10-リリース計画)
11. [リスクと対策](#11-リスクと対策)
12. [成功指標](#12-成功指標)

---

## 1. プロジェクト概要

### 1.1 プロジェクト名
**BalanceAI Wellness**

### 1.2 プロジェクトの概要
Google Gemini AIを活用し、運動管理と食事管理を統合したパーソナライズ型健康管理Webアプリケーション。

### 1.3 プロジェクトの位置づけ
個人開発プロジェクトとして開発し、将来的な収益化を目指すSaaS型Webサービス。

---

## 2. プロジェクトの背景と目的

### 2.1 背景

#### 市場環境
- 筋トレ・ダイエットブームによる健康意識の高まり
- パーソナルトレーニングへの需要増加（高額な点が課題）
- 既存アプリは食事管理または運動管理のいずれか単独が多い

#### 課題
1. **既存ツールの分散**: 食事管理アプリと筋トレアプリを別々に使う必要がある
2. **統合的な健康管理の不足**: 運動と栄養を連動させた管理が困難
3. **パーソナライゼーションの欠如**: 一般的なプランで個人の状況に合わない
4. **継続率の低さ**: モチベーション維持が困難

### 2.2 目的

#### ビジネス目的
1. **収益化**: 月額1万円の収益を生み出すサービスの確立
2. **ユーザー獲得**: 初期フェーズで300ユーザーの獲得
3. **市場検証**: 統合型健康管理サービスのニーズ検証
4. **収益モデル確立**: 広告収益とプレミアムプランの基盤構築

#### サービス目的
1. **統合管理の実現**: 運動と食事を一元管理できるプラットフォーム提供
2. **パーソナライゼーション**: AIによる個別最適化されたプラン提供
3. **継続性の向上**: AIサポートによるモチベーション維持
4. **アクセシビリティ**: 低コストで誰でも利用可能な健康管理サービス

---

## 3. ターゲットユーザー

### 3.1 プライマリーターゲット

#### ペルソナ1: 「健康意識が高い若手社会人」
- **年齢**: 25-35歳
- **性別**: 男女
- **職業**: オフィスワーカー（デスクワーク中心）
- **ライフスタイル**:
  - 運動習慣を始めたいが時間が限られている
  - ジムに通うか自宅トレーニングか検討中
  - スマートフォンを日常的に活用
  - 健康情報への関心が高い
- **課題**:
  - 何から始めればいいかわからない
  - モチベーションが続かない
  - 食事管理が面倒

#### ペルソナ2: 「ダイエット目的の女性」
- **年齢**: 20-30歳
- **性別**: 女性
- **職業**: 会社員・学生
- **ライフスタイル**:
  - 見た目の改善を目指している
  - 過去にダイエットの失敗経験あり
  - SNSで健康情報を収集
  - 自宅でできる運動を好む
- **課題**:
  - カロリー計算が面倒
  - リバウンドを繰り返している
  - 継続できない

#### ペルソナ3: 「筋トレ初心者の男性」
- **年齢**: 20-35歳
- **性別**: 男性
- **職業**: 会社員・学生
- **ライフスタイル**:
  - 体を鍛えたいと思っている
  - ジムに通い始めたばかり
  - プロテインなど栄養にも関心
  - YouTubeで情報収集
- **課題**:
  - 正しいフォームがわからない
  - どの部位をいつ鍛えるべきかわからない
  - 食事との連携が理解できていない

### 3.2 セカンダリーターゲット
- 40代の健康維持を目指す層
- 産後ダイエットを目指す女性
- 高齢者の軽運動サポート

### 3.3 ターゲット規模
- **初期（3ヶ月）**: 300ユーザー
- **半年後**: 1,000ユーザー
- **1年後**: 5,000ユーザー

---

## 4. ビジネス要件

### 4.1 ビジネスモデル

#### フェーズ1: 無料提供期（リリース～3ヶ月）
- **料金**: 完全無料
- **収益源**: 広告表示
- **目的**: ユーザー獲得とフィードバック収集

#### フェーズ2: 収益化開始（3ヶ月後～）
- **料金**:
  - 無料プラン: 基本機能 + 広告表示
  - プレミアムプラン: 月額500-800円程度（広告非表示 + 拡張機能）
- **収益目標**: 月額1万円
  - 広告収入: 月3,000-5,000円（300ユーザー想定）
  - プレミアム収入: 月5,000-7,000円（10-15人の有料会員想定）

### 4.2 収益化戦略

#### 広告表示方式
- **配置場所**:
  - ダッシュボード下部（ネイティブ広告）
  - 食事ログ画面の間（インフィード広告）
  - ワークアウト完了後（インタースティシャル広告）
- **広告プラットフォーム**: Google AdSense
- **表示頻度**: ユーザー体験を損なわない程度（1画面1-2箇所）

#### プレミアムプラン機能（将来実装）
- 広告非表示
- より詳細な栄養分析
- カスタムワークアウトプラン作成
- 過去データの無制限保存
- エクスポート機能（PDF/CSV）
- 優先AIサポート

### 4.3 決済システム
- **外部決済サービス連携**:
  - Stripe（クレジットカード決済）
  - PayPal
- **実装方式**: 外部決済ページへのリダイレクト

### 4.4 コスト構造

#### 初期コスト（開発フェーズ）
| 項目 | 金額 |
|------|------|
| ドメイン取得 | 1,500円/年 |
| 開発環境 | 0円（無料枠使用） |
| **合計** | **約1,500円** |

#### 運用コスト（月額）
| 項目 | 金額 |
|------|------|
| ホスティング（Vercel/Netlify無料枠） | 0円 |
| Google Gemini API（300ユーザー想定） | 1,000-2,000円 |
| Firebase認証・DB（無料枠） | 0円 |
| ドメイン維持 | 125円/月 |
| **合計** | **約1,125-2,125円/月** |

#### 年間コスト上限
- **目標**: 年間30,000円以内
- **月平均**: 2,500円
- **現実的な運用コスト**: 月1,125-2,125円（目標内）

---

## 5. 機能要件

### 5.1 必須機能（MVP: Minimum Viable Product）

#### 5.1.1 ユーザー認証
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| AUTH-001 | メール/パスワード登録 | 基本的な会員登録機能 | 高 |
| AUTH-002 | ログイン/ログアウト | セッション管理 | 高 |
| AUTH-003 | パスワードリセット | メールによるリセット | 中 |
| AUTH-004 | ゲストモード | 登録なしで試用（ローカルストレージ） | 高 |

#### 5.1.2 オンボーディング
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| ONB-001 | プロフィール設定 | 年齢・性別・身体情報入力 | 高 |
| ONB-002 | 目標設定 | 目標体重・具体的目標の入力 | 高 |
| ONB-003 | 環境設定 | 自宅/ジム、運動レベルの選択 | 高 |
| ONB-004 | AIプラン生成 | Gemini APIによるプラン作成 | 高 |

#### 5.1.3 ダッシュボード
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| DASH-001 | 日次サマリー表示 | カロリー・運動・体重の概要 | 高 |
| DASH-002 | AIデイリーメッセージ | 毎日のモチベーションメッセージ | 高 |
| DASH-003 | クイックアクション | 各機能への遷移ボタン | 高 |
| DASH-004 | 目標進捗表示 | 目標体重までの距離 | 中 |

#### 5.1.4 ワークアウト管理
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| WRK-001 | 週間プラン表示 | 7日間のスケジュール | 高 |
| WRK-002 | エクササイズリスト | 日別の詳細メニュー | 高 |
| WRK-003 | 完了チェック | チェックボックスでの進捗管理 | 高 |
| WRK-004 | YouTube連携 | フォーム解説動画へのリンク | 高 |
| WRK-005 | ワークアウトAIチャット | エクササイズに関する質問対応 | 中 |

#### 5.1.5 栄養管理
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| NUT-001 | 食事記録（テキスト） | テキスト入力による記録 | 高 |
| NUT-002 | AI栄養分析 | Gemini APIによる栄養素推定 | 高 |
| NUT-003 | カロリー集計 | 日次・週次のカロリー表示 | 高 |
| NUT-004 | 栄養アドバイス | AIによる食事改善提案 | 中 |
| NUT-005 | 食事履歴表示 | 時系列での記録一覧 | 高 |

#### 5.1.6 進捗管理
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| PRG-001 | 体重記録 | 定期的な体重入力 | 高 |
| PRG-002 | 体重グラフ | 時系列での体重変化表示 | 高 |
| PRG-003 | 目標ライン表示 | グラフ上の目標体重表示 | 中 |

#### 5.1.7 AIチャット
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| CHAT-001 | グローバルチャット | どこからでもアクセス可能 | 高 |
| CHAT-002 | ストリーミング応答 | リアルタイムでの回答表示 | 高 |
| CHAT-003 | コンテキスト理解 | ユーザー情報を考慮した回答 | 高 |
| CHAT-004 | 会話履歴保持 | セッション内での履歴管理 | 中 |

### 5.2 推奨機能（Phase 2以降）

#### 5.2.1 認証拡張
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| AUTH-101 | Googleログイン | OAuth 2.0連携 | 中 |
| AUTH-102 | Appleログイン | Sign in with Apple | 中 |
| AUTH-103 | LINEログイン | LINE OAuth連携 | 低 |

#### 5.2.2 画像機能
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| IMG-101 | 食事写真撮影 | カメラ起動・撮影 | 中 |
| IMG-102 | 画像アップロード | ギャラリーから選択 | 中 |
| IMG-103 | AI画像分析 | Gemini Vision APIによる分析 | 中 |

#### 5.2.3 データ管理
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| DATA-101 | データエクスポート | CSV/PDFダウンロード | 低 |
| DATA-102 | データバックアップ | クラウド同期 | 中 |
| DATA-103 | データインポート | 他サービスからの移行 | 低 |

#### 5.2.4 ヘルスケア連携
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| HEALTH-101 | Apple Health連携 | 歩数・消費カロリー取得 | 中 |
| HEALTH-102 | Google Fit連携 | 活動量データ取得 | 中 |

#### 5.2.5 ソーシャル機能
| 機能ID | 機能名 | 詳細 | 優先度 |
|--------|--------|------|--------|
| SOC-101 | 進捗共有 | SNSシェア機能 | 低 |
| SOC-102 | フレンド機能 | 友達との進捗比較 | 低 |
| SOC-103 | チャレンジ | コミュニティイベント | 低 |

### 5.3 除外機能（スコープ外）
- ビデオ通話でのトレーニング指導
- リアルタイムのウェアラブル連携
- 栄養士・トレーナーのマッチング
- コミュニティフォーラム
- ライブ配信機能

---

## 6. 非機能要件

### 6.1 パフォーマンス要件

#### 6.1.1 レスポンスタイム
| 項目 | 目標値 | 許容値 |
|------|--------|--------|
| 初回ページロード | 2秒以内 | 3秒以内 |
| 画面遷移 | 0.5秒以内 | 1秒以内 |
| AI応答開始 | 1秒以内 | 2秒以内 |
| AI応答完了 | 5秒以内 | 10秒以内 |

#### 6.1.2 スループット
- 同時接続ユーザー: 100人（初期）
- 1日あたりのAPI呼び出し: 3,000回程度

### 6.2 可用性要件
- **目標稼働率**: 99%（月間ダウンタイム7.2時間以内）
- **メンテナンス時間**: 月1回、深夜1-2時間程度
- **障害対応**: 24時間以内の復旧

### 6.3 セキュリティ要件

#### 6.3.1 認証・認可
- パスワードはbcryptでハッシュ化（コスト係数12以上）
- セッショントークンの有効期限: 7日間
- HTTPS通信の必須化

#### 6.3.2 データ保護
- 個人情報の暗号化保存
- APIキーの環境変数管理
- XSS・CSRF対策の実装

#### 6.3.3 プライバシー
- プライバシーポリシーの明示
- データ削除リクエストへの対応
- 第三者へのデータ提供なし（広告IDを除く）

### 6.4 ユーザビリティ要件
- **学習時間**: 初回利用時5分以内で基本操作習得
- **直感性**: 説明なしで80%の機能が利用可能
- **アクセシビリティ**: WCAG 2.1 レベルA準拠（目標）

### 6.5 互換性要件

#### 6.5.1 ブラウザ対応
| ブラウザ | バージョン | 優先度 |
|----------|-----------|--------|
| Chrome | 最新版 | 高 |
| Safari (iOS) | 最新版 | 高 |
| Safari (macOS) | 最新版 | 中 |
| Edge | 最新版 | 中 |
| Firefox | 最新版 | 低 |

#### 6.5.2 デバイス対応
| デバイス | 画面サイズ | 優先度 |
|----------|-----------|--------|
| スマートフォン | 320px-480px | 高 |
| タブレット | 768px-1024px | 中 |
| デスクトップ | 1024px以上 | 低 |

#### 6.5.3 OS対応
- iOS 15以降
- Android 10以降
- Windows 10以降（PC閲覧時）
- macOS 12以降（PC閲覧時）

### 6.6 保守性要件
- **コードカバレッジ**: 主要機能で60%以上（目標）
- **ドキュメント**: 仕様書・README・コメントの整備
- **コーディング規約**: ESLint・Prettierによる統一

### 6.7 拡張性要件
- 機能の追加が容易なモジュラー設計
- APIの後方互換性維持
- データベーススキーマの拡張性

---

## 7. システム構成

### 7.1 システムアーキテクチャ

#### 7.1.1 全体構成（Phase 1: MVP）
```
[ユーザー] ⇔ [Webブラウザ(React SPA)] ⇔ [Firebase] ⇔ [Google Gemini AI]
                        ↓
                 [Local Storage]
```

#### 7.1.2 全体構成（Phase 2: 本番運用）
```
[ユーザー]
    ↓
[Webブラウザ (React SPA)]
    ↓
[CDN (Cloudflare/Vercel)]
    ↓
[静的ホスティング (Vercel/Netlify)]
    ↓
[Firebase Services]
    ├─ Authentication (認証)
    ├─ Firestore (データベース)
    └─ Storage (画像保存)
    ↓
[Google Gemini AI]
    └─ gemini-2.5-flash
    
[外部サービス]
    ├─ Google AdSense (広告)
    ├─ Stripe (決済)
    └─ Google Analytics (分析)
```

### 7.2 技術スタック詳細

#### 7.2.1 フロントエンド
| レイヤー | 技術 | バージョン | 用途 |
|---------|------|-----------|------|
| フレームワーク | React | 19.2.0 | UIコンポーネント |
| 言語 | TypeScript | 5.8.2 | 型安全性 |
| ビルドツール | Vite | 6.2.0 | 高速開発・ビルド |
| スタイリング | TailwindCSS | 最新版 | ユーティリティCSS |
| アイコン | Lucide React | 0.555.0 | アイコンライブラリ |
| グラフ | Recharts | 3.5.1 | データビジュアライゼーション |
| 状態管理 | React Hooks | - | ローカル状態管理 |

#### 7.2.2 バックエンド（Phase 2）
| レイヤー | 技術 | 用途 |
|---------|------|------|
| 認証 | Firebase Authentication | ユーザー認証 |
| データベース | Cloud Firestore | NoSQLデータベース |
| ストレージ | Firebase Storage | 画像保存 |
| ホスティング | Vercel/Netlify | 静的サイトホスティング |
| CDN | Cloudflare/Vercel CDN | コンテンツ配信 |

#### 7.2.3 AI統合
| サービス | モデル | 用途 | コスト |
|---------|-------|------|--------|
| Google Gemini AI | gemini-2.5-flash | プラン生成 | 従量課金 |
| Google Gemini AI | gemini-2.5-flash | 栄養分析 | 従量課金 |
| Google Gemini AI | gemini-2.5-flash | チャット | 従量課金 |
| Google Gemini AI | gemini-2.5-flash-vision (Phase 2) | 画像認識 | 従量課金 |

#### 7.2.4 外部サービス
| サービス | 用途 | コスト |
|---------|------|--------|
| Google AdSense | 広告表示・収益化 | 無料（収益分配） |
| Stripe | 決済処理 (Phase 2) | 3.6% + 決済手数料 |
| Google Analytics | アクセス解析 | 無料 |
| SendGrid (Phase 2) | メール送信 | 無料枠あり |

### 7.3 データベース設計

#### 7.3.1 Phase 1: Local Storage
現状の実装（JSONシリアライズ）:
- `profile`: UserProfile
- `workoutPlan`: WorkoutPlan
- `dietLogs`: DietLog[]
- `weightLogs`: WeightLog[]
- `dailyMessage`: string
- `dailyMessageDate`: string

#### 7.3.2 Phase 2: Firestore設計

**users コレクション**
```
users/{userId}
  ├─ profile: UserProfile
  ├─ workoutPlan: WorkoutPlan
  ├─ createdAt: Timestamp
  ├─ updatedAt: Timestamp
  └─ subscription: {
       type: 'free' | 'premium',
       startDate: Timestamp,
       endDate: Timestamp
     }
```

**dietLogs サブコレクション**
```
users/{userId}/dietLogs/{logId}
  ├─ timestamp: Timestamp
  ├─ foodName: string
  ├─ macros: MacroNutrients
  ├─ advice: string
  └─ imageUrl?: string
```

**weightLogs サブコレクション**
```
users/{userId}/weightLogs/{logId}
  ├─ date: string (YYYY-MM-DD)
  ├─ weight: number
  └─ timestamp: Timestamp
```

**chatHistory サブコレクション**
```
users/{userId}/chatHistory/{messageId}
  ├─ role: 'user' | 'ai'
  ├─ text: string
  ├─ timestamp: Timestamp
  └─ context?: string
```

### 7.4 API設計

#### 7.4.1 Gemini API使用パターン
| 機能 | エンドポイント | 入力 | 出力 | 月間想定コール数 |
|------|--------------|------|------|-----------------|
| プラン生成 | generateContent | UserProfile | WorkoutPlan | 300回 |
| 栄養分析 | generateContent | 食事情報 | 栄養データ | 3,000回 |
| デイリーメッセージ | generateContent | 進捗情報 | メッセージ | 300回 |
| チャット | streamGenerateContent | 質問 | 回答（ストリーム） | 2,000回 |

#### 7.4.2 コスト試算（300ユーザー）
- 入力トークン: 約500万トークン/月
- 出力トークン: 約100万トークン/月
- **推定コスト**: 1,000-2,000円/月（無料枠含む）

---

## 8. 外部連携

### 8.1 必須連携（Phase 1）

#### 8.1.1 Google Gemini AI
- **目的**: AI機能の中核
- **連携方式**: REST API（@google/genai SDK）
- **認証**: APIキー
- **制約**: 
  - レート制限: 60リクエスト/分
  - 無料枠: 月15ドル相当

#### 8.1.2 Google AdSense
- **目的**: 広告表示・収益化
- **連携方式**: JavaScript SDK
- **認証**: サイト認証
- **制約**: ポリシー遵守必須

### 8.2 推奨連携（Phase 2）

#### 8.2.1 Firebase Authentication
- **目的**: ユーザー認証
- **連携方式**: Firebase SDK
- **認証方式**:
  - メール/パスワード
  - Google OAuth
  - Apple Sign In
- **無料枠**: 月50,000認証

#### 8.2.2 Cloud Firestore
- **目的**: データ永続化
- **連携方式**: Firebase SDK
- **無料枠**:
  - 保存: 1GB
  - 読み取り: 50,000回/日
  - 書き込み: 20,000回/日

#### 8.2.3 Stripe
- **目的**: 決済処理
- **連携方式**: Stripe Checkout（リダイレクト）
- **手数料**: 3.6%

### 8.3 将来的連携（Phase 3）

#### 8.3.1 Apple Health
- **目的**: 活動量データ取得
- **連携方式**: HealthKit API（ネイティブアプリ化後）

#### 8.3.2 Google Fit
- **目的**: 活動量データ取得
- **連携方式**: Google Fit REST API

---

## 9. 制約事項

### 9.1 予算制約
- **開発コスト**: 実質0円（自己開発）
- **運用コスト上限**: 年間30,000円（月平均2,500円）
- **実運用想定**: 月1,000-2,000円

### 9.2 期限制約
- **リリース目標**: 2025年12月末
- **残り期間**: 約4週間
- **開発優先順位**: MVP機能に集中

### 9.3 技術制約
- **無料枠の活用**: 各サービスの無料枠内での運用
- **スケーラビリティ**: 初期は300ユーザーまでを想定
- **ブラウザ依存**: Web技術の制約内

### 9.4 リソース制約
- **開発体制**: 個人開発（1名）
- **開発時間**: 限定的
- **サポート体制**: 最小限（メール対応程度）

### 9.5 法的制約
- **医療行為の禁止**: 診断・治療に該当する表現の回避
- **プライバシー**: 個人情報保護法の遵守
- **広告規制**: 薬機法・景品表示法の遵守
- **免責事項**: 利用規約での明示

---

## 10. リリース計画

### 10.1 開発フェーズ

#### Phase 1: MVP開発（現在～12月末）
**期間**: 4週間  
**目標**: 基本機能の実装とリリース

| 週 | タスク | 成果物 |
|----|--------|--------|
| 1週目 | Firebase統合・認証実装 | ログイン機能 |
| 2週目 | データベース移行・API最適化 | クラウド同期 |
| 3週目 | 広告実装・UI調整 | 広告表示 |
| 4週目 | テスト・バグ修正・デプロイ | 本番リリース |

**完了基準**:
- [ ] Firebase認証の実装
- [ ] Firestoreへのデータ移行
- [ ] Google AdSense統合
- [ ] モバイル最適化
- [ ] 本番環境へのデプロイ
- [ ] 利用規約・プライバシーポリシー作成

#### Phase 2: 初期運用（1月～3月）
**期間**: 3ヶ月  
**目標**: 300ユーザー獲得とフィードバック収集

**施策**:
- SNSでの露出（Twitter/Instagram）
- 無料利用キャンペーン
- ユーザーフィードバックの収集
- バグ修正と改善

**KPI**:
- 月間アクティブユーザー: 300人
- 継続率（7日後）: 30%
- 1日あたりの記録数: 200件

#### Phase 3: 機能拡張（4月～6月）
**期間**: 3ヶ月  
**目標**: プレミアムプランリリースと収益化

**新機能**:
- [ ] SNSログイン（Google/Apple）
- [ ] 食事写真分析
- [ ] プレミアムプラン
- [ ] Stripe決済統合
- [ ] データエクスポート

**KPI**:
- 月間アクティブユーザー: 1,000人
- 有料会員数: 20人（2%転換率）
- 月間収益: 10,000円

#### Phase 4: ネイティブアプリ化（7月～）
**期間**: 3-6ヶ月  
**目標**: iOS/Androidアプリリリース

**技術選定**:
- React Native または Flutter
- Apple Health / Google Fit連携
- プッシュ通知

### 10.2 リリース判定基準

#### 必須要件（これらが満たされないとリリース不可）
- [ ] 全ての必須機能（5.1）が動作する
- [ ] セキュリティ脆弱性がない
- [ ] 主要ブラウザで正常動作
- [ ] プライバシーポリシー・利用規約の掲載
- [ ] 本番環境での動作確認

#### 推奨要件（望ましいが必須ではない）
- [ ] ページロード時間が3秒以内
- [ ] エラーハンドリングが適切
- [ ] ユーザーガイドの用意
- [ ] FAQの作成

---

## 11. リスクと対策

### 11.1 技術的リスク

#### リスク1: AI APIコストの超過
**影響度**: 高  
**発生確率**: 中

**リスク詳細**:
- ユーザー数増加によるAPI呼び出し増加
- 予算（月2,500円）を超過する可能性

**対策**:
- API呼び出しのキャッシング強化
- レスポンスの再利用（Daily Messageなど）
- 使用量モニタリングとアラート設定
- 緊急時の機能制限プラン

#### リスク2: パフォーマンス劣化
**影響度**: 中  
**発生確率**: 中

**リスク詳細**:
- ユーザー増加によるレスポンス遅延
- データベースクエリの遅延

**対策**:
- CDNの活用
- データベースインデックスの最適化
- 遅延ローディングの実装
- パフォーマンスモニタリング

#### リスク3: データ喪失
**影響度**: 高  
**発生確率**: 低

**リスク詳細**:
- Firestoreの障害
- バグによるデータ破損

**対策**:
- Firestoreの自動バックアップ
- 定期的なデータエクスポート機能
- データ復旧手順の文書化

### 11.2 ビジネスリスク

#### リスク4: ユーザー獲得の失敗
**影響度**: 高  
**発生確率**: 中

**リスク詳細**:
- 目標300ユーザーに到達しない
- 市場ニーズとのミスマッチ

**対策**:
- 早期のβテスト実施
- SNSでの積極的な露出
- インフルエンサーへのアプローチ
- 友人・知人への直接紹介

#### リスク5: 収益化の失敗
**影響度**: 中  
**発生確率**: 中

**リスク詳細**:
- 広告収入が想定より低い
- プレミアムプランの転換率が低い

**対策**:
- 広告配置の最適化
- A/Bテストの実施
- ユーザーヒアリングによる機能改善
- 価格設定の見直し

#### リスク6: 競合の出現
**影響度**: 中  
**発生確率**: 高

**リスク詳細**:
- 類似サービスのリリース
- 大手企業の参入

**対策**:
- 独自性の強化（AIパーソナライゼーション）
- 素早い機能追加
- ユーザーコミュニティの形成
- 差別化ポイントの明確化

### 11.3 法的リスク

#### リスク7: 医療行為とみなされる
**影響度**: 高  
**発生確率**: 低

**リスク詳細**:
- アドバイス内容が医療行為と判断される
- 薬機法違反

**対策**:
- 免責事項の明記
- 「診断」「治療」などの表現を避ける
- 「医師に相談してください」の注意書き
- 弁護士によるレビュー（必要に応じて）

#### リスク8: プライバシー侵害
**影響度**: 高  
**発生確率**: 低

**リスク詳細**:
- 個人情報の漏洩
- GDPR/個人情報保護法違反

**対策**:
- セキュリティベストプラクティスの遵守
- プライバシーポリシーの明示
- データ削除機能の実装
- 定期的なセキュリティ監査

---

## 12. 成功指標（KPI）

### 12.1 Phase 1: リリース時（12月末）

#### 技術指標
| 指標 | 目標値 | 測定方法 |
|------|--------|---------|
| ページロード時間 | 3秒以内 | Lighthouse |
| バグ数 | 重大バグ0件 | Issue tracker |
| テストカバレッジ | 60%以上 | Jest |

### 12.2 Phase 2: 初期運用（1-3月）

#### ユーザー獲得指標
| 指標 | 1ヶ月目 | 2ヶ月目 | 3ヶ月目 | 測定方法 |
|------|---------|---------|---------|---------|
| 登録ユーザー数 | 100人 | 200人 | 300人 | Firebase |
| MAU（月間アクティブ） | 80人 | 160人 | 240人 | Google Analytics |
| DAU（日間アクティブ） | 20人 | 40人 | 60人 | Google Analytics |

#### エンゲージメント指標
| 指標 | 目標値 | 測定方法 |
|------|--------|---------|
| 継続率（7日後） | 30% | Cohort分析 |
| 継続率（30日後） | 15% | Cohort分析 |
| 1日あたりの記録数 | ユーザーあたり2件 | データベース |
| セッション時間 | 平均5分 | Google Analytics |

### 12.3 Phase 3: 収益化（4-6月）

#### 収益指標
| 指標 | 目標値 | 測定方法 |
|------|--------|---------|
| 月間広告収益 | 3,000-5,000円 | AdSense |
| プレミアム会員数 | 20人 | Firebase |
| プレミアム収益 | 10,000-16,000円 | Stripe |
| 合計月間収益 | 13,000-21,000円 | - |
| ROI | 黒字化 | 収益-コスト |

#### ユーザー指標
| 指標 | 目標値 | 測定方法 |
|------|--------|---------|
| 登録ユーザー数 | 1,000人 | Firebase |
| MAU | 700人 | Google Analytics |
| 有料転換率 | 2% | - |
| チャーン率 | 月10%以下 | Cohort分析 |

### 12.4 Phase 4: 拡大期（7月～）

#### ビジネス指標
| 指標 | 目標値 | 測定方法 |
|------|--------|---------|
| 登録ユーザー数 | 5,000人 | Firebase |
| MAU | 3,500人 | Google Analytics |
| プレミアム会員数 | 100人 | Firebase |
| 月間収益 | 50,000円以上 | - |

### 12.5 サクセスメトリクス

#### 最重要指標（North Star Metric）
**「週次アクティブユーザーの食事記録回数」**

理由:
- サービスの中核価値（健康管理）を直接反映
- 継続的な利用を示す
- 収益化（広告表示・プレミアム転換）につながる

目標:
- Phase 2: 週500記録
- Phase 3: 週2,000記録
- Phase 4: 週10,000記録

---

## 13. 付録

### 13.1 用語集

| 用語 | 説明 |
|------|------|
| MVP | Minimum Viable Product（実用最小限の製品） |
| MAU | Monthly Active Users（月間アクティブユーザー） |
| DAU | Daily Active Users（日間アクティブユーザー） |
| KPI | Key Performance Indicator（重要業績評価指標） |
| ROI | Return on Investment（投資対効果） |
| チャーン率 | 解約・離脱率 |
| コホート分析 | 同時期に登録したユーザー群の行動分析 |

### 13.2 参照ドキュメント

- [仕様書.md](./仕様書.md) - 技術仕様の詳細
- [README.md](./README.md) - プロジェクト概要と開発ガイド

### 13.3 関連リンク

- **Google Gemini AI**: https://ai.google.dev/
- **Firebase**: https://firebase.google.com/
- **Vercel**: https://vercel.com/
- **Google AdSense**: https://www.google.com/adsense/
- **Stripe**: https://stripe.com/jp

---

## 承認

### 変更履歴

| バージョン | 日付 | 変更内容 | 承認者 |
|-----------|------|---------|--------|
| 1.0 | 2025-12-04 | 初版作成 | saboten-q |

### レビュー

| 役割 | 氏名 | 承認日 | 署名 |
|------|------|--------|------|
| プロジェクトオーナー | saboten-q | 2025-12-04 | - |

---

**文書終了**

